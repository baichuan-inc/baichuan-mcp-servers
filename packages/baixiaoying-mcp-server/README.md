**ä¸­æ–‡** | [English](./README_EN.md)

# @baichuan-ai/baixiaoying-mcp-server

[![npm version](https://img.shields.io/npm/v/@baichuan-ai/baixiaoying-mcp-server.svg)](https://www.npmjs.com/package/@baichuan-ai/baixiaoying-mcp-server)
[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](https://github.com/baichuan-inc/baichuan-mcp-servers/blob/main/LICENSE.txt)
[![MCP Apps](https://img.shields.io/badge/MCP-Apps%20Supported-brightgreen.svg)](https://modelcontextprotocol.io/docs/extensions/apps)

ç™¾å°åº”åŒ»å­¦å¤§æ¨¡å‹ MCP Server â€”â€” å·²æ”¯æŒ **MCP åè®®æœ€æ–° Feature [MCP APPs](https://modelcontextprotocol.io/docs/extensions/apps)**ï¼Œæä¾›å¯è§†åŒ–çš„å›ç­”å†…å®¹ï¼Œä½“éªŒå®Œå…¨å¯¹æ ‡ç™¾å·å®˜æ–¹ APP [ç™¾å°åº”](https://ying.ai/?channel=github)ã€‚

![Baichuan-M3-Plus](https://raw.githubusercontent.com/baichuan-inc/baichuan-mcp-servers/main/packages/baixiaoying-mcp-server/src/ui/assets/m3-plus-banner.png)

## ä¸ºä»€ä¹ˆé€‰æ‹©ç™¾å°åº” MCP Serverï¼Ÿ

### ğŸ† SOTA åŒ»å­¦å¤§æ¨¡å‹

Baichuan-M3-Plus æ˜¯ç™¾å·æ™ºèƒ½æ¨å‡ºçš„**æœ€ä½å¹»è§‰å¾ªè¯å¢å¼ºåŒ»ç–—å¤§æ¨¡å‹**ï¼Œåœ¨æƒå¨åŒ»å­¦è¯„æµ‹ä¸­è¡¨ç°å“è¶Šï¼š

| æŒ‡æ ‡                 | è¡¨ç°                                                                    |
| -------------------- | ----------------------------------------------------------------------- |
| **å¹»è§‰ç‡**           | åŸºå‡†æµ‹è¯•ä»… **2.6%**ï¼Œå¤§å¹…é¢†å…ˆè¡Œä¸š                                       |
| **HealthBench**      | è¶…è¶Š OpenAI GPT-5.2ï¼Œè¾¾åˆ° SOTA                                          |
| **HealthBench-Hard** | å¾—åˆ† 44.4ï¼Œè¶…è¶Š GPT-5.2                                                 |
| **SCAN-bench**       | å”¯ä¸€åœ¨ Clinical Inquiryã€Laboratory Testingã€Diagnosis ä¸‰é¡¹åŒæ—¶æ’åç¬¬ä¸€ |
| **æˆæœ¬**             | ç›¸æ¯”ä¸Šä¸€ä»£æ¨¡å‹**é™ä½ 70%**                                              |

### ğŸ§¬ æ ¸å¿ƒæŠ€æœ¯ä¼˜åŠ¿

- **å…­æºå¾ªè¯ç³»ç»Ÿ** - é¦–åˆ›è¯æ®é”šå®šæŠ€æœ¯ï¼Œå›ç­”ä¸¥è°¨å¯è¿½æº¯ï¼Œæœ‰æ•ˆæŠ‘åˆ¶å¹»è§‰
- **ä¸´åºŠé—®è¯Šæ€ç»´** - æ¨¡å‹åº•å±‚å…·å¤‡ä¸´åºŠåŒ»ç”Ÿçš„é—®è¯Šæ€ç»´ä¸å¾ªè¯æ€ç»´ï¼Œæ”¯æŒ SCAN-Driven Clinical-Grade Systematic History Taking
- **é«˜ä¿çœŸä¸´åºŠé—®è¯Š** - High-Fidelity Clinical Inquiryï¼Œå°†é—®è¯Šè¿‡ç¨‹é‡æ„ä¸ºä¸´åºŠçº§åˆ«ã€ç»“æ„åŒ–ã€å¯å®¡è®¡çš„ä¿¡æ¯ç”Ÿæˆæµæ°´çº¿

### ğŸ§© MCP APPs åè®®

å·²æ”¯æŒ MCP æœ€æ–°åè®® **MCP APPs**ï¼Œè¾“å‡ºå¯è§†åŒ–å†…å®¹ï¼Œæ•ˆæœä¸ç™¾å°åº”å®˜æ–¹ APP å®Œå…¨å¯¹é½ï¼š

![ç™¾å°åº”å¯è§†åŒ–å›ç­”ç¤ºä¾‹](https://raw.githubusercontent.com/baichuan-inc/baichuan-mcp-servers/main/packages/baixiaoying-mcp-server/src/ui/assets/baixiaoying-screenshot-1.png)
![ç™¾å°åº”å¼•ç”¨ä¸è¯æ®ç¤ºä¾‹](https://raw.githubusercontent.com/baichuan-inc/baichuan-mcp-servers/main/packages/baixiaoying-mcp-server/src/ui/assets/baixiaoying-screenshot-2.png)

## åŠŸèƒ½ç‰¹æ€§

- ğŸ–¥ï¸ **å¯è§†åŒ–å›ç­”** - è¾“å‡ºå¯è§†åŒ–å†…å®¹ï¼Œæ•ˆæœä¸ç™¾å°åº”å®˜æ–¹ APP å¯¹é½
- ğŸ©º **åŒ»å­¦é—®ç­”å¯¹è¯** - ä½¿ç”¨ä¸“ä¸šåŒ»å­¦å¤§æ¨¡å‹å›ç­”å¥åº·ç›¸å…³é—®é¢˜
- ğŸ“„ **æ–‡æ¡£é—®ç­”** - ä¸Šä¼ åŒ»å­¦æ–‡æ¡£è¿›è¡Œæ™ºèƒ½é—®ç­”
- ğŸ“š **è¯æ®å¼•ç”¨** - å›ç­”é™„å¸¦ä¸“ä¸šæ–‡çŒ®å¼•ç”¨
- ğŸ§  **æ€è€ƒè¿‡ç¨‹** - å±•ç¤ºæ¨¡å‹çš„æ¨ç†æ€è€ƒæ­¥éª¤
- ğŸ”Œ **å¤šåè®®æ”¯æŒ** - æ”¯æŒ stdioã€SSEã€Streamable HTTPã€Hybrid å››ç§ä¼ è¾“æ¨¡å¼
- ğŸš€ **æœåŠ¡å™¨éƒ¨ç½²** - æ”¯æŒç‹¬ç«‹éƒ¨ç½²ä¸º HTTP æœåŠ¡ï¼Œå¯ä¾›å¤šå®¢æˆ·ç«¯åŒæ—¶è®¿é—®

## ğŸ“‹ åº”ç”¨åœºæ™¯

ç™¾å°åº”èƒŒåæ‹¥æœ‰**æƒå¨çš„åŒ»ç–—ä¸“ä¸šçŸ¥è¯†åº“**ï¼Œæ¶µç›–ä¸´åºŠæŒ‡å—ã€è¯å“è¯´æ˜ä¹¦ã€åŒ»å­¦æ–‡çŒ®ç­‰æµ·é‡æƒå¨æ•°æ®æºï¼Œå¹¶ä¿æŒåŠ¨æ€æ›´æ–°ã€‚æ— è®ºæ˜¯æ—¥å¸¸é—®è¯Šã€ä¸´åºŠå†³ç­–è¿˜æ˜¯åŒ»å­¦ç ”ç©¶ï¼Œéƒ½èƒ½æä¾›æœ€å¯é ã€å¯ä¿¡çš„ä¸“ä¸šå›ç­”ã€‚

### ğŸ©º æ™ºèƒ½é—®è¯Š

æ¨¡æ‹Ÿä¸´åºŠåŒ»ç”Ÿçš„é—®è¯Šæ€ç»´ï¼Œè¿›è¡Œç³»ç»ŸåŒ–çš„ç—…å²é‡‡é›†å’Œç—‡çŠ¶åˆ†æã€‚

```
æˆ‘æœ€è¿‘æ€»æ˜¯å¤´æ™•ï¼Œå°¤å…¶æ˜¯æ—©ä¸Šèµ·åºŠçš„æ—¶å€™ï¼Œç«™èµ·æ¥ä¼šçœ¼å‰å‘é»‘ï¼ŒæŒç»­å¤§æ¦‚å‡ ç§’é’Ÿã€‚è¯·å¸®æˆ‘åˆ†æä¸€ä¸‹å¯èƒ½çš„åŸå› ï¼Ÿ
```

```
å­©å­ 3 å²ï¼Œæ˜¨å¤©å¼€å§‹å‘çƒ§ 38.5Â°Cï¼Œä¼´æœ‰æµé¼»æ¶•å’Œè½»å¾®å’³å—½ï¼Œç²¾ç¥çŠ¶æ€è¿˜å¯ä»¥ï¼Œéœ€è¦å»åŒ»é™¢å—ï¼Ÿ
```

### ğŸ’Š è¯ç‰©åˆ†æ

æ·±åº¦è§£æè¯ç‰©æˆåˆ†ã€ä½œç”¨æœºåˆ¶ã€é€‚åº”ç—‡åŠä¸è‰¯ååº”ã€‚

```
å¸®æˆ‘åˆ†æä¸€ä¸‹é˜¿å¸åŒ¹æ—å’Œå¸ƒæ´›èŠ¬çš„åŒºåˆ«ï¼Œå®ƒä»¬çš„ä½œç”¨æœºåˆ¶æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ
```

```
äºŒç”²åŒèƒçš„ä½œç”¨æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆå®ƒæ˜¯ 2 å‹ç³–å°¿ç—…çš„ä¸€çº¿ç”¨è¯ï¼Ÿ
```

### ğŸ’‰ ç”¨è¯æŒ‡å¯¼

æä¾›ä¸“ä¸šçš„ç”¨è¯å»ºè®®ï¼ŒåŒ…æ‹¬å‰‚é‡ã€ç”¨æ³•ã€æ³¨æ„äº‹é¡¹åŠè¯ç‰©ç›¸äº’ä½œç”¨ã€‚

```
æˆ‘æ­£åœ¨æœç”¨åæ³•æ—ï¼ŒåŒ»ç”Ÿåˆç»™æˆ‘å¼€äº†é˜¿è«è¥¿æ—ï¼Œè¿™ä¸¤ç§è¯å¯ä»¥ä¸€èµ·åƒå—ï¼Ÿéœ€è¦æ³¨æ„ä»€ä¹ˆï¼Ÿ
```

```
è€å¹´é«˜è¡€å‹æ‚£è€…é•¿æœŸæœç”¨æ°¨æ°¯åœ°å¹³ï¼Œæœ‰å“ªäº›éœ€è¦æ³¨æ„çš„äº‹é¡¹ï¼Ÿ
```

### ğŸ“– æŒ‡å—æŸ¥è¯¢

å¿«é€Ÿæ£€ç´¢æœ€æ–°ä¸´åºŠè¯Šç–—æŒ‡å—ï¼Œè·å–æƒå¨æ¨èæ„è§ã€‚

```
2024 å¹´ä¸­å›½é«˜è¡€å‹é˜²æ²»æŒ‡å—å¯¹äºé«˜è¡€å‹çš„è¯Šæ–­æ ‡å‡†å’Œåˆ†çº§æ˜¯æ€ä¹ˆè§„å®šçš„ï¼Ÿ
```

```
æœ€æ–°çš„ç³–å°¿ç—…è‚¾ç—…ä¸´åºŠè¯Šç–—æŒ‡å—ä¸­ï¼Œæ¨èçš„ä¸€çº¿é™ç³–è¯ç‰©æ˜¯ä»€ä¹ˆï¼Ÿ
```

### ğŸ¥ æ²»ç–—æ–¹æ¡ˆ

åŸºäºå¾ªè¯åŒ»å­¦ï¼Œæä¾›ä¸ªæ€§åŒ–çš„æ²»ç–—æ–¹æ¡ˆå»ºè®®ã€‚

```
åˆè¯Š 2 å‹ç³–å°¿ç—…æ‚£è€…ï¼Œç©ºè…¹è¡€ç³– 9.2mmol/Lï¼Œç³–åŒ–è¡€çº¢è›‹ç™½ 8.1%ï¼ŒBMI 26ï¼Œæ— æ˜æ˜¾å¹¶å‘ç—‡ï¼Œåº”è¯¥å¦‚ä½•åˆ¶å®šæ²»ç–—æ–¹æ¡ˆï¼Ÿ
```

```
ç¤¾åŒºè·å¾—æ€§è‚ºç‚çš„ç»éªŒæ€§æŠ—èŒæ²»ç–—æ–¹æ¡ˆæœ‰å“ªäº›é€‰æ‹©ï¼Ÿ
```

### ğŸ”¬ è¯Šæ–­åˆ†æ

è¾…åŠ©åˆ†ææ£€éªŒæ£€æŸ¥ç»“æœï¼Œæä¾›é‰´åˆ«è¯Šæ–­æ€è·¯ã€‚

```
æ‚£è€…è‚åŠŸèƒ½æ£€æŸ¥æ˜¾ç¤º ALT 156 U/Lï¼ŒAST 89 U/Lï¼ŒGGT æ­£å¸¸ï¼Œè¯·å¸®æˆ‘åˆ†æå¯èƒ½çš„åŸå› å’Œéœ€è¦è¿›ä¸€æ­¥åšçš„æ£€æŸ¥ã€‚
```

```
ç”²çŠ¶è…ºåŠŸèƒ½æ£€æŸ¥ TSH åä½ï¼ŒFT4 åé«˜ï¼Œè¿™æç¤ºä»€ä¹ˆé—®é¢˜ï¼Ÿéœ€è¦åšå“ªäº›è¿›ä¸€æ­¥æ£€æŸ¥ï¼Ÿ
```

### ğŸ“š åŒ»å­¦ç ”ç©¶åŠ¨æ€

è¿½è¸ªåŒ»å­¦é¢†åŸŸæœ€æ–°ç ”ç©¶è¿›å±•å’Œçªç ´æ€§æˆæœã€‚

```
GLP-1 å—ä½“æ¿€åŠ¨å‰‚åœ¨å¿ƒè¡€ç®¡ä¿æŠ¤æ–¹é¢æœ‰å“ªäº›æœ€æ–°çš„ç ”ç©¶è¿›å±•ï¼Ÿ
```

```
CAR-T ç»†èƒç–—æ³•åœ¨å®ä½“ç˜¤æ²»ç–—ä¸­çš„æœ€æ–°ç ”ç©¶çªç ´æœ‰å“ªäº›ï¼Ÿ
```

### âœï¸ åŒ»å­¦å†™ä½œè¾…åŠ©

è¾…åŠ©åŒ»å­¦è®ºæ–‡å†™ä½œã€ç—…å†ä¹¦å†™ã€åŒ»å­¦ç¿»è¯‘ç­‰ä¸“ä¸šæ–‡æ¡£å·¥ä½œã€‚

```
å¸®æˆ‘å†™ä¸€ä»½æ€¥æ€§å¿ƒè‚Œæ¢—æ­»çš„å…¥é™¢ç—…å†æ¨¡æ¿ï¼ŒåŒ…æ‹¬ä¸»è¯‰ã€ç°ç—…å²ã€æ—¢å¾€å²ç­‰è¦ç´ ã€‚
```

```
è¯·å¸®æˆ‘å°†è¿™æ®µä¸´åºŠç ”ç©¶æ‘˜è¦ç¿»è¯‘æˆè§„èŒƒçš„åŒ»å­¦è‹±è¯­ã€‚
```

## ğŸ æµ·çº³ç™¾å·è®¡åˆ’

![æµ·çº³ç™¾å·è®¡åˆ’](https://raw.githubusercontent.com/baichuan-inc/baichuan-mcp-servers/main/packages/baixiaoying-mcp-server/src/ui/assets/hainabaichuan-plan.png)

ç™¾å·æ­£å¼æ¨å‡ºã€Œæµ·çº³ç™¾å·ã€è®¡åˆ’ï¼Œ**é¢å‘æ‰€æœ‰ä¸ºåŒ»åŠ¡å·¥ä½œè€…æä¾›æœåŠ¡çš„æœºæ„ï¼Œå…è´¹æä¾›å¾ªè¯å¢å¼ºçš„ M3-Plus API**ã€‚

### å‚ä¸æ¡ä»¶

| é¡¹ç›®         | è¯´æ˜                                                                       |
| ------------ | -------------------------------------------------------------------------- |
| **é€‚ç”¨å¯¹è±¡** | ä¸ºåŒ»åŠ¡å·¥ä½œè€…æä¾›æœåŠ¡çš„æœºæ„ï¼ˆåŒ»ç”Ÿã€è¯å‰‚å¸ˆã€åŒ»æŠ€å¸ˆã€æŠ¤å£«ã€å¥ç®¡å¸ˆã€åŒ»å­¦ç”Ÿç­‰ï¼‰ |
| **é€‚ç”¨åœºæ™¯** | ä¸´åºŠè¾…åŠ©å†³ç­–ã€åŒ»å­¦æ•™è‚²                                                     |
| **ç”¨é€”é™åˆ¶** | ä»…ç”¨äºçœŸå®æœåŠ¡åœºæ™¯ï¼Œä¸å¾—ç”¨äºæ•°æ®ç”Ÿäº§                                       |
| **ä½¿ç”¨è¦æ±‚** | äº§å“éœ€æ˜ç¡®å±•ç¤º Powered by ç™¾å·ï¼Œä¸å¾—å¯¹æ¨¡å‹è¾“å‡ºè¿›è¡Œå½±å“å‡†ç¡®æ€§çš„ä¿®æ”¹         |

ğŸ‘‰ [ç«‹å³ç”³è¯·](https://www.baichuan-ai.com/home)

## æ”¯æŒçš„æ¨¡å‹

| æ¨¡å‹             | è¯´æ˜                     |
| ---------------- | ------------------------ |
| Baichuan-M3-Plus | æœ€æ–°åŒ»å­¦å¤§æ¨¡å‹ï¼Œæ¨èä½¿ç”¨ |
| Baichuan-M2-Plus | åŒ»å­¦å¤§æ¨¡å‹               |

## å­¦æœ¯ä¸èµ„æº

- ğŸ  **ç™¾å·å®˜ç½‘**ï¼šhttps://www.baichuan-ai.com/home
- ğŸ“– **å­¦æœ¯æŠ¥å‘Š**ï¼šhttps://www.baichuan-ai.com/blog/baichuan-M3
- ğŸ’» **M3 Github**ï¼šhttps://github.com/baichuan-inc/Baichuan-M3-235B
- ğŸ¤— **M3 Model**ï¼šhttps://huggingface.co/baichuan-inc/Baichuan-M3-235B
- âš¡ **M3 GPTQ-4bit**ï¼šhttps://huggingface.co/baichuan-inc/Baichuan-M3-235B-GPTQ-INT4

## å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
npm install @baichuan-ai/baixiaoying-mcp-server
```

### ç¯å¢ƒå˜é‡

| å˜é‡å                   | å¿…å¡« | è¯´æ˜                                                                                           |
| ------------------------ | ---- | ---------------------------------------------------------------------------------------------- |
| `BAICHUAN_API_KEY`       | æ¡ä»¶ | ç™¾å· API Keyï¼Œä» [ç™¾å·å¼€æ”¾å¹³å°](https://platform.baichuan-ai.com/) è·å–ã€‚stdio æ¨¡å¼ä¸‹å¿…éœ€ï¼›HTTP/SSE æ¨¡å¼ä¸‹ä½œä¸ºåå¤‡ |
| `BAICHUAN_TIMEOUT_MS`    | å¦   | API è¯·æ±‚è¶…æ—¶ï¼ˆæ¯«ç§’ï¼Œé»˜è®¤: 120000ï¼‰                                                             |
| `MCP_ALLOWED_ORIGINS`    | å¦   | å…è®¸çš„ Origin ç™½åå•ï¼ˆé€—å·åˆ†éš”ï¼Œä»… HTTP/SSE æ¨¡å¼ï¼‰                                             |
| `MCP_ALLOW_EMPTY_ORIGIN` | å¦   | å…è®¸æ—  Origin çš„è¯·æ±‚ï¼ˆtrue/falseï¼Œé»˜è®¤: trueï¼‰                                                 |
| `MCP_SESSION_TTL`        | å¦   | Session è¿‡æœŸæ—¶é—´ï¼ˆæ¯«ç§’ï¼Œé»˜è®¤: 1800000ï¼‰                                                        |

> **é‰´æƒè¯´æ˜**: HTTP/SSE æ¨¡å¼ä¸‹ï¼Œç”¨æˆ·é€šè¿‡ `Authorization: Bearer <your-baichuan-api-key>` ä¼ å…¥è‡ªå·±çš„ç™¾å· API Keyï¼ŒæœåŠ¡ç«¯å°†ä½¿ç”¨è¯¥ Key è¿›è¡Œåç»­ API è°ƒç”¨ã€‚å¦‚æœªä¼ å…¥ï¼Œåˆ™å›é€€åˆ° `BAICHUAN_API_KEY` ç¯å¢ƒå˜é‡ã€‚

### ä¼ è¾“åè®®

ç™¾å°åº” MCP Server æ”¯æŒä¸‰ç§ä¼ è¾“åè®®ï¼Œé€‚ç”¨äºä¸åŒåœºæ™¯ï¼š

| æ¨¡å¼                | å‚æ•°       | ç«¯ç‚¹                | é€‚ç”¨åœºæ™¯                           |
| ------------------- | ---------- | ------------------- | ---------------------------------- |
| **stdio**           | (é»˜è®¤)     | -                   | Claude Desktopã€æœ¬åœ° MCP å®¢æˆ·ç«¯    |
| **SSE**             | `--sse`    | `/sse` + `/message` | Cursorã€æ—§ç‰ˆ SSE å®¢æˆ·ç«¯            |
| **Streamable HTTP** | `--http`   | `/mcp`              | æ–°ç‰ˆ MCP å®¢æˆ·ç«¯                    |
| **Hybrid**          | `--hybrid` | `/mcp` + `/sse`     | åŒæ—¶æ”¯æŒå¤šç§å®¢æˆ·ç«¯ï¼ˆæ¨èæœåŠ¡éƒ¨ç½²ï¼‰ |

### Claude Desktop é…ç½®ï¼ˆstdio æ¨¡å¼ï¼‰

åœ¨ `claude_desktop_config.json` ä¸­æ·»åŠ ï¼š

```json
{
  "mcpServers": {
    "baixiaoying": {
      "command": "npx",
      "args": ["-y", "@baichuan-ai/baixiaoying-mcp-server"],
      "env": {
        "BAICHUAN_API_KEY": "your-api-key-here"
      }
    }
  }
}
```

æˆ–è€…ä½¿ç”¨æœ¬åœ°å®‰è£…ï¼š

```json
{
  "mcpServers": {
    "baixiaoying": {
      "command": "node",
      "args": ["/path/to/baixiaoying-mcp-server/dist/index.js"],
      "env": {
        "BAICHUAN_API_KEY": "your-api-key-here"
      }
    }
  }
}
```

### Cursor é…ç½®ï¼ˆSSE æ¨¡å¼ï¼‰

1. å¯åŠ¨ SSE æœåŠ¡å™¨ï¼š

```bash
pnpm start:sse --port 8787
```

2. åœ¨ Cursor çš„ `~/.cursor/mcp.json` ä¸­é…ç½®ï¼Œé€šè¿‡ `Authorization` header ä¼ å…¥ä½ çš„ç™¾å· API Keyï¼š

```json
{
  "mcpServers": {
    "baixiaoying": {
      "type": "sse",
      "url": "http://127.0.0.1:8787/sse",
      "headers": {
        "Authorization": "Bearer your-baichuan-api-key"
      }
    }
  }
}
```

> å¦‚æœæœåŠ¡ç«¯å·²é…ç½® `BAICHUAN_API_KEY` ç¯å¢ƒå˜é‡ä½œä¸ºåå¤‡ï¼Œä¹Ÿå¯ä»¥ä¸ä¼  `Authorization` headerã€‚

### æœåŠ¡å™¨éƒ¨ç½²ï¼ˆHybrid æ¨¡å¼ï¼‰

Hybrid æ¨¡å¼åŒæ—¶æ”¯æŒ Streamable HTTP å’Œ SSE åè®®ï¼Œæ¨èç”¨äºæœåŠ¡å™¨éƒ¨ç½²ï¼š

```bash
# å¯åŠ¨æ··åˆæ¨¡å¼æœåŠ¡å™¨ï¼ˆå¯é€‰è®¾ç½® BAICHUAN_API_KEY ä½œä¸ºåå¤‡ï¼‰
pnpm start:hybrid --host 0.0.0.0 --port 8787

# æˆ–è®¾ç½®åå¤‡ API Key
BAICHUAN_API_KEY=your-fallback-key pnpm start:hybrid --host 0.0.0.0 --port 8787
```

> ç”¨æˆ·è¿æ¥æ—¶é€šè¿‡ `Authorization: Bearer <key>` ä¼ å…¥è‡ªå·±çš„ç™¾å· API Keyï¼ŒæœåŠ¡ç«¯è‡ªåŠ¨ä½¿ç”¨è¯¥ Key è¿›è¡Œ API è°ƒç”¨ã€‚

å¯åŠ¨åå¯ç”¨çš„ç«¯ç‚¹ï¼š

| ç«¯ç‚¹       | åè®®            | ç”¨é€”                |
| ---------- | --------------- | ------------------- |
| `/mcp`     | Streamable HTTP | æ–°ç‰ˆ MCP å®¢æˆ·ç«¯     |
| `/sse`     | Legacy SSE      | Cursor ç­‰æ—§ç‰ˆå®¢æˆ·ç«¯ |
| `/message` | Legacy SSE POST | SSE æ¶ˆæ¯å‘é€ç«¯ç‚¹    |

### å‘½ä»¤è¡Œå‚æ•°

```bash
baixiaoying-mcp-server [é€‰é¡¹]

é€‰é¡¹:
  --sse               å¯ç”¨ SSE æ¨¡å¼ï¼ˆå…¼å®¹ Cursorï¼‰
  --http              å¯ç”¨ Streamable HTTP æ¨¡å¼
  --hybrid            å¯ç”¨æ··åˆæ¨¡å¼ï¼ˆåŒæ—¶æ”¯æŒ HTTP å’Œ SSEï¼‰
  --host <åœ°å€>       ç›‘å¬åœ°å€ï¼ˆé»˜è®¤: 127.0.0.1ï¼‰
  --port <ç«¯å£>       ç›‘å¬ç«¯å£ï¼ˆé»˜è®¤: 8787ï¼‰
  --endpoint <è·¯å¾„>   MCP endpoint è·¯å¾„ï¼ˆé»˜è®¤: /mcpï¼‰
  --help, -h          æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
```

## å¯ç”¨å·¥å…·

### baixiaoying_chat

ä½¿ç”¨ç™¾å°åº”å¤§æ¨¡å‹è¿›è¡ŒåŒ»å­¦é—®ç­”å¯¹è¯ã€‚

**å‚æ•°ï¼š**

| å‚æ•°             | ç±»å‹     | å¿…å¡« | é»˜è®¤å€¼             | è¯´æ˜                       |
| ---------------- | -------- | ---- | ------------------ | -------------------------- |
| `message`        | string   | æ˜¯   | -                  | ç”¨æˆ·è¾“å…¥çš„é—®é¢˜             |
| `model`          | string   | å¦   | "Baichuan-M3-Plus" | æ¨¡å‹é€‰æ‹©                   |
| `file_ids`       | string[] | å¦   | -                  | æ–‡ä»¶ ID åˆ—è¡¨ï¼Œç”¨äºæ–‡æ¡£é—®ç­” |
| `temperature`    | number   | å¦   | 0.3                | é‡‡æ ·æ¸©åº¦ (0-1)             |
| `evidence_scope` | string   | å¦   | "grounded"         | è¯æ®èŒƒå›´                   |

**ç¤ºä¾‹ï¼š**

```
ä½¿ç”¨ç™¾å°åº”é—®ä¸€ä¸‹"å°å„¿æ„Ÿå†’å’³å—½ï¼Œç—°å’³ä¸å‡ºæ¥æ€ä¹ˆåŠï¼Ÿ"
```

### baixiaoying_upload_file

ä¸Šä¼ åŒ»å­¦æ–‡æ¡£ç”¨äºåç»­çš„æ–‡æ¡£é—®ç­”ã€‚

**æ”¯æŒçš„æ–‡ä»¶æ ¼å¼ï¼š** pdf, doc, docx, txt, html, md, csv, png, jpg ç­‰

**å‚æ•°ï¼š**

| å‚æ•°        | ç±»å‹   | å¿…å¡« | è¯´æ˜         |
| ----------- | ------ | ---- | ------------ |
| `file_path` | string | æ˜¯   | æœ¬åœ°æ–‡ä»¶è·¯å¾„ |
| `file_name` | string | å¦   | è‡ªå®šä¹‰æ–‡ä»¶å |

### baixiaoying_list_files

è·å–å·²ä¸Šä¼ çš„æ–‡ä»¶åˆ—è¡¨ã€‚

### baixiaoying_get_file_status

æŸ¥è¯¢æ–‡ä»¶çš„è§£æçŠ¶æ€ã€‚

**çŠ¶æ€è¯´æ˜ï¼š**

- `init` - å¾…è§£æ
- `parsing` - è§£æä¸­
- `online` - è§£ææˆåŠŸï¼Œå¯ä»¥ä½¿ç”¨
- `fail` - è§£æå¤±è´¥
- `unsafe` - æœªé€šè¿‡å®‰å…¨æ£€æŸ¥

### baixiaoying_delete_file

åˆ é™¤æŒ‡å®šçš„å·²ä¸Šä¼ æ–‡ä»¶ã€‚

## ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€å¯¹è¯

```
é—®ç™¾å°åº”ï¼šé«˜è¡€å‹æ‚£è€…æ—¥å¸¸éœ€è¦æ³¨æ„ä»€ä¹ˆï¼Ÿ
```

### æ–‡æ¡£é—®ç­”

```
1. å…ˆä¸Šä¼ æ–‡æ¡£
2. æŸ¥è¯¢æ–‡ä»¶çŠ¶æ€ï¼Œç­‰å¾…å˜ä¸º online
3. ä½¿ç”¨ baixiaoying_chat å·¥å…·ï¼Œä¼ å…¥ file_ids å‚æ•°è¿›è¡Œé—®ç­”
```

## å¼€å‘

```bash
# å®‰è£…ä¾èµ–
pnpm install

# Node ç‰ˆæœ¬è¦æ±‚ï¼ˆæœ€ä½ LTSï¼‰
# Node.js >= 18

# æ„å»º
pnpm build

# å¼€å‘æ¨¡å¼
pnpm dev
```

### å¯åŠ¨è„šæœ¬

```bash
# stdio æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰
pnpm start

# SSE æ¨¡å¼ï¼ˆå…¼å®¹ Cursorï¼‰
pnpm start:sse

# Streamable HTTP æ¨¡å¼
pnpm start:http

# Hybrid æ¨¡å¼ï¼ˆæ¨èæœåŠ¡éƒ¨ç½²ï¼‰
pnpm start:hybrid
```

### Docker éƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t baixiaoying-mcp-server .

# è¿è¡Œå®¹å™¨ï¼ˆå¯é€‰è®¾ç½®åå¤‡ API Keyï¼‰
docker run -d \
  -p 8787:8787 \
  baixiaoying-mcp-server

# æˆ–è®¾ç½®åå¤‡ API Key
docker run -d \
  -p 8787:8787 \
  -e BAICHUAN_API_KEY=your-fallback-key \
  baixiaoying-mcp-server
```

## è®¸å¯è¯

[Apache License 2.0](./LICENSE.txt)
